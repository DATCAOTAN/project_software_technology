DROP SCHEMA IF EXISTS CNPM;
CREATE SCHEMA CNPM;
USE CNPM;

-- Tạo bảng Tai_khoan
CREATE TABLE Tai_khoan (
    ID INT AUTO_INCREMENT PRIMARY KEY,
    Ten_tai_khoan VARCHAR(255) UNIQUE NOT NULL,
    Mat_khau VARCHAR(255) NOT NULL
);

-- Tạo bảng Nhan_vien
CREATE TABLE Nhan_vien (
    ID INT PRIMARY KEY,
    Ten_nhan_vien VARCHAR(255),
    So_dien_thoai VARCHAR(20),
    Email VARCHAR(255) UNIQUE,
    FOREIGN KEY (ID) REFERENCES Tai_khoan(ID)
);

-- Tạo bảng Ban
CREATE TABLE Ban (
    ID INT AUTO_INCREMENT PRIMARY KEY,
    So_ban INT NOT NULL,
    Suc_chua INT,
    Trang_thai VARCHAR(50),
    Vi_tri VARCHAR(255),
    Mo_ta TEXT
);

-- Tạo bảng Khach_hang
CREATE TABLE Khach_hang (
    ID INT AUTO_INCREMENT PRIMARY KEY,
    Ten_khach_hang VARCHAR(255) NOT NULL,
    So_dien_thoai VARCHAR(20),
    Email VARCHAR(255) UNIQUE
);

-- Tạo bảng Don_dat_mon_Hoa_don
CREATE TABLE Don_dat_mon_Hoa_don (
    ID INT AUTO_INCREMENT PRIMARY KEY,
    Ngay_gio DATETIME NOT NULL,
    Tong_tien DECIMAL(15, 2),
    Trang_thai VARCHAR(50),
    Trang_thai_thanh_toan BOOLEAN
);

-- Tạo bảng Thuc_uong
CREATE TABLE Thuc_uong (
    ID INT AUTO_INCREMENT PRIMARY KEY,
    Ten_thuc_uong VARCHAR(255) NOT NULL,
    Mo_ta TEXT,
    image_URL VARCHAR(255)
);

-- Tạo bảng Chi_tiet_thuc_uong
CREATE TABLE Chi_tiet_thuc_uong (
    Thuc_uong_ID INT,
    Gia_tien DECIMAL(15, 2),
    Size ENUM('S', 'M', 'L'),
    Trang_thai_ban VARCHAR(50),
    PRIMARY KEY (Thuc_uong_ID, Size),
    FOREIGN KEY (Thuc_uong_ID) REFERENCES Thuc_uong(ID)
);

-- Tạo bảng Chi_tiet_phuong_thuc_thanh_toan
CREATE TABLE Chi_tiet_phuong_thuc_thanh_toan (
    ID INT AUTO_INCREMENT PRIMARY KEY,
    Ten VARCHAR(255) NOT NULL,
    Fee DECIMAL(10, 2)
);

-- Tạo bảng Phuong_thuc_thanh_toan
CREATE TABLE Phuong_thuc_thanh_toan (
    ID INT AUTO_INCREMENT PRIMARY KEY,
    Ten VARCHAR(255) NOT NULL
);

-- Tạo bảng Phan_hoi
CREATE TABLE Phan_hoi (
    ID INT AUTO_INCREMENT PRIMARY KEY,
    So_sao INT,
    Noi_dung TEXT,
    Ngay_gio DATETIME
);
